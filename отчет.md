# –û—Ç—á–µ—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —á–∏—Å–ª–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ
## –ë–ª–æ—à–∫–∏–Ω –ê–ª–µ–∫—Å–µ–π
## 23-–ü–û-2
##  **–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã**
–ß–∏—Å–ª–µ–Ω–Ω–æ–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–º –º–æ–Ω—Ç–µ-–∫–∞—Ä–ª–æ:  
—Å—Ç—Ä–æ–∏—Ç–µ –ø—Ä—è–º–æ–≥–æ–ª—å–Ω–∏–∫ "–Ω–∞–∫—Ä—ã–≤–∞—é—â–∏–π" –Ω—É–∂–Ω—ã–π –æ—Ç—Ä–µ–∑–æ–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ "–∫–∏–¥–∞–µ—Ç–µ" —Ç–æ—á–∫–∏ –≤ —Å—É–ª—á–∞–π–Ω—ã–µ –º–µ—Å—Ç–∞.  
–û—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –±–ª–∏–∂–µ –∫ –û—Ö —á–µ–º —Ñ—É–Ω–∫—Ü–∏—è –∏ –≤—Å–µ—Ö —Ç–æ—á–µ–∫ ~= –æ—Ç–Ω–æ—à–µ–Ω—é –ø–ª–æ—â–∞–¥–∏ –ø–æ–¥ –≥—Ä–∞—Ñ–∏–∫–æ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤—Å–µ–π –ø–ª–æ—â–∞–¥–∏ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞.

## Ô∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (1 —Ñ–∞–π–ª)**
MonteCarloIntegration/  
‚îî‚îÄ‚îÄ MonteCarloIntegration.scala

## üîß **–ê–ª–≥–æ—Ä–∏—Ç–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ**

### **1. –ü–æ–∏—Å–∫ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–µ–≥–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞**
(—è –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª—Å—è –∫–∞–∫ –≤—Å—Ç–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫–∏)  
val (minVal, maxVal) = (0 to 1000).foldLeft((Double.MaxValue, Double.MinValue)) {  
// –ù–∞—Ö–æ–¥–∏–º min/max —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ [l, r]  
}  
val height = maxVal - minVal // –í—ã—Å–æ—Ç–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞  


### **2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫**
val futures = (0 until threadsNumber).map { taskId =>  
Future { // –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ ‚Äî —Å–≤–æ–π Future  
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç pointsPerTask —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ—á–µ–∫  
// –°—á–∏—Ç–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –ø–æ–¥ –≥—Ä–∞—Ñ–∏–∫  
}  
}  


### **3. –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
val totalSuccessFuture = Future.foldLeft(futures)(0L)(_ + _) // –°—É–º–º–∏—Ä—É–µ–º –≤—Å–µ Future  
val ratio = totalSuccess.toDouble / pointsNumber // –î–æ–ª—è –ø–æ–ø–∞–¥–∞–Ω–∏–π  
val integral = rectangleArea * ratio // –ü–ª–æ—â–∞–¥—å  


## Ô∏è **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è**

| –ü–æ—Ç–æ–∫ | –ó–∞–¥–∞—á–∞ | –¢–æ—á–∫–∏ |
|-------|--------|-------|
| **0** | –ü–æ–¥–≥—Ä–∞—Ñ–∏–∫ 1 | 500,000 |
| **1** | –ü–æ–¥–≥—Ä–∞—Ñ–∏–∫ 2 | 500,000 |
| **2** | –ü–æ–¥–≥—Ä–∞—Ñ–∏–∫ 3 | 500,000 |
| **3** | –ü–æ–¥–≥—Ä–∞—Ñ–∏–∫ 4 | 500,000 |

**ExecutionContext**: `Executors.newFixedThreadPool(threadsNumber)`

##  **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 —Ñ—É–Ω–∫—Ü–∏–∏)**

| –§—É–Ω–∫—Ü–∏—è | –ò–Ω—Ç–µ—Ä–≤–∞–ª | –¢–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –¢–æ—á–∫–∏ | –ü–æ—Ç–æ–∫–∏ |
|---------|----------|-----------------|-------|--------|
| **x¬≤** | [0, 2] | **2.666667** | 2M | 4 |
| **sin(x)** | [0, œÄ] | **2.000000** | 2M | 4 |
| **eÀ£** | [0, 1] | **1.718282** | 2M | 4 |


## **–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞**
![img.png](img.png)  


##  **–ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

| –ö–æ–Ω—Ü–µ–ø—Ü–∏—è | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|-----------|------------|
| **Future** | `Future { ... }` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ |
| **ExecutionContext** | `Executors.newFixedThreadPool(4)` ‚Äî –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ |
| **Future.foldLeft** | –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π |
| **Await.result** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è) |
| **Random** | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ—á–µ–∫ |


